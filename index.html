<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>SB Dash</title>
  <link rel="stylesheet" href="style.css?v=700" />
</head>
<body>

  <header class="topbar">
    <div class="brand">
      <button class="gearTop" id="openSettingsBtn" aria-label="Inst√§llningar">‚öôÔ∏è</button>

      <div class="brandDot"></div>
      <div>
        <div class="brandTitle">SB Dash</div>
        <div class="brandSub">Control dashboard</div>
      </div>
    </div>

    <div class="topDate" id="todayText">‚Äî</div>
    <div class="topRight"></div>
  </header>

  <main class="shell">
    <section class="layout">

      <!-- Kalender -->
      <aside class="calendarWrap" aria-label="Kalender">
        <div class="calScale">
          <iframe
            id="calFrame"
            class="calFrame"
            src=""
            frameborder="0"
            scrolling="yes">
          </iframe>
        </div>
        <div class="calOverlay" aria-hidden="true"></div>
      </aside>

      <!-- Main -->
      <section class="panel mainPanel">
        <div class="panelHead">
          <h2>Main</h2>
        </div>

        <div class="panelBody mainBody">
          <div class="viewTrack" id="viewTrack">

            <!-- PRIO (f√∂r iPhone ‚Äì s√• du kan hantera prios √§ven n√§r h√∂gerspalten d√∂ljs) -->
            <div class="viewPage" data-view="prio">
              <div class="viewTitle">Aktiv prio</div>

              <div class="miniForm">
                <input id="prioInputMobile" class="miniInput" type="text" placeholder="L√§gg till superprio‚Ä¶" maxlength="160">
                <button id="prioAddBtnMobile" class="miniBtn">+ L√§gg</button>
              </div>

              <ul class="miniList" id="prioListMobile"></ul>
              <div class="miniHint">Tryck = √∂ppna ‚Ä¢ Swipe h√∂ger‚Üív√§nster = slutf√∂r</div>
            </div>

            <!-- TODO -->
            <div class="viewPage" data-view="todo">
              <div class="viewTitle">Att g√∂ra</div>
              <div class="miniForm">
                <input id="todoInput" class="miniInput" type="text" placeholder="Skriv en uppgift‚Ä¶" maxlength="120">
                <button id="todoAddBtn" class="miniBtn">+ L√§gg</button>
              </div>
              <ul id="todoList" class="miniList"></ul>
              <div class="miniHint">Swipe h√∂ger‚Üív√§nster = slutf√∂r</div>
            </div>

            <!-- IDEAS -->
            <div class="viewPage" data-view="ideas">
              <div class="viewTitle">Id√©er</div>
              <div class="miniForm">
                <input id="ideaInput" class="miniInput" type="text" placeholder="Skriv en id√©‚Ä¶" maxlength="160">
                <button id="ideaAddBtn" class="miniBtn">+ Spara</button>
              </div>
              <ul id="ideasList" class="miniList"></ul>
              <div class="miniHint">Swipe h√∂ger‚Üív√§nster = arkivera (till Slutf√∂rda)</div>
            </div>

            <!-- DONE -->
            <div class="viewPage" data-view="done">
              <div class="viewTitle">Slutf√∂rda</div>
              <ul id="doneList" class="miniList"></ul>
              <div class="miniActions">
                <button id="doneClearBtn" class="miniBtn ghost">Rensa slutf√∂rda</button>
              </div>
              <div class="miniHint">‚Ü©Ô∏é √•terst√§ll till r√§tt lista (prio/todo/id√©er)</div>
            </div>

            <!-- NEWS -->
            <div class="viewPage" data-view="news" id="newsPage">
              <div class="viewTitle">Nyheter</div>
              <div class="pullHint" id="newsPullHint">Dra ned f√∂r att uppdatera</div>
              <div id="newsMeta" class="miniHint" style="margin-top:6px;">Laddar‚Ä¶</div>
              <ul id="newsList" class="miniList" style="margin-top:10px;"></ul>
            </div>

            <!-- WEATHER -->
            <div class="viewPage" data-view="weather">
              <div class="viewTitle">V√§der</div>

              <div class="weatherCard">
                <div class="weatherRow">
                  <div class="weatherIcon" id="weatherIcon">‚õÖÔ∏è</div>
                  <div class="weatherBig">
                    <div class="weatherTemp" id="weatherTemp">‚Äî¬∞</div>
                    <div class="weatherDesc" id="weatherDesc">Laddar‚Ä¶</div>
                  </div>
                </div>

                <div class="weatherGrid">
                  <div class="wCell">
                    <div class="wLabel">Vind</div>
                    <div class="wValue" id="weatherWind">‚Äî</div>
                  </div>
                  <div class="wCell">
                    <div class="wLabel">Plats</div>
                    <div class="wValue" id="weatherPlace">‚Äî</div>
                  </div>
                  <div class="wCell">
                    <div class="wLabel">Uppdaterad</div>
                    <div class="wValue" id="weatherUpdated">‚Äî</div>
                  </div>
                </div>

                <div class="tomorrowBox">
                  <div class="tomLabel">Imorgon</div>
                  <div class="tomRow">
                    <div class="tomIcon" id="tomIcon">üå•Ô∏è</div>
                    <div class="tomText" id="tomText">‚Äî</div>
                  </div>
                </div>

                <div class="miniActions">
                  <button id="weatherRefreshBtn" class="miniBtn ghost">Uppdatera</button>
                </div>
              </div>
            </div>

            <!-- POMODORO -->
            <div class="viewPage" data-view="pomodoro">
              <div class="viewTitle">Pomodoro</div>

              <div class="pomoWrap">
                <div class="pomoRing">
                  <svg class="pomoSvg" viewBox="0 0 240 240" aria-hidden="true">
                    <defs>
                      <filter id="pomoGlow" x="-50%" y="-50%" width="200%" height="200%">
                        <feGaussianBlur stdDeviation="4" result="blur"/>
                        <feMerge>
                          <feMergeNode in="blur"/>
                          <feMergeNode in="SourceGraphic"/>
                        </feMerge>
                      </filter>
                    </defs>

                    <circle class="pomoTrack" cx="120" cy="120" r="92"></circle>
                    <circle class="pomoProg" id="pomoProg" cx="120" cy="120" r="92"></circle>
                  </svg>

                  <div class="pomoCenter">
                    <div class="pomoTime" id="pomoTime">05:00</div>
                    <div class="pomoSub" id="pomoSub">Redo</div>
                  </div>
                </div>

                <div class="pomoBtns">
                  <button class="miniBtn ghost" data-pomo="5">5</button>
                  <button class="miniBtn ghost" data-pomo="10">10</button>
                  <button class="miniBtn ghost" data-pomo="15">15</button>
                  <button class="miniBtn" id="pomoStartBtn">Start</button>
                  <button class="miniBtn ghost" id="pomoResetBtn">Reset</button>
                </div>

                <div class="miniHint">Ring: cyan ‚Üí orange ‚Üí r√∂d n√§r tiden g√•r ner</div>
              </div>
            </div>

          </div>
        </div>

        <div class="underNav" id="underNav">
          <button class="navBtn active" data-view="prio">Prio</button>
          <button class="navBtn" data-view="todo">Att g√∂ra</button>
          <button class="navBtn" data-view="ideas">Id√©er</button>
          <button class="navBtn" data-view="done">Slutf√∂rda</button>
          <button class="navBtn" data-view="news">Nyheter</button>
          <button class="navBtn" data-view="weather">V√§der</button>
          <button class="navBtn" data-view="pomodoro">Pomodoro</button>
        </div>
      </section>

      <!-- Aktiv prio (desktop) -->
      <aside class="panel prioPanel">
        <div class="panelHead">
          <h2>Aktiv prio</h2>
          <span class="countPill" id="prioCount">0</span>
        </div>

        <div class="panelBody">
          <div class="miniForm" style="margin-top:0;">
            <input id="prioInput" class="miniInput" type="text" placeholder="L√§gg till superprio‚Ä¶" maxlength="160">
            <button id="prioAddBtn" class="miniBtn">+ L√§gg</button>
          </div>

          <ul class="miniList" id="prioList"></ul>
          <div class="miniHint">Tryck = √∂ppna ‚Ä¢ Swipe = slutf√∂r</div>
        </div>
      </aside>

      <!-- iPhone bottenzon -->
      <div class="mobileBottom" aria-label="Bottenzon">
        <div class="mobileBottomLeft">
          Aktiva prios: <span id="mobilePrioCount">0</span>
        </div>

        <div class="mobileBottomRight">
          <div class="dialFixed" aria-label="Ratt">
            <div class="dial" id="dial">
              <img class="dialRing" id="dialRing" src="assets/ui/knob-ring.svg" alt="Knob ring">
              <img class="dialIcon" id="dialIcon" src="assets/ui/icon-todo.svg" alt="Dial icon">
            </div>
          </div>
        </div>
      </div>

    </section>
  </main>

  <!-- Modal: Aktiv prio (detalj + edit) -->
  <div class="modalOverlay" id="prioModalOverlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-label="Aktiv prio">
      <div class="modalHead">
        <div class="modalTitle">Aktiv prio</div>
        <button class="modalClose" id="prioModalCloseBtn">‚úï</button>
      </div>

      <textarea class="modalEdit" id="prioModalEdit" placeholder="Skriv h√§r‚Ä¶"></textarea>

      <div class="modalActions">
        <button class="miniBtn" id="prioModalDoneBtn">Slutf√∂r</button>
      </div>
    </div>
  </div>

  <!-- Modal: Inst√§llningar -->
  <div class="modalOverlay" id="settingsOverlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-label="Inst√§llningar">
      <div class="modalHead">
        <div class="modalTitle">Inst√§llningar</div>
        <button class="modalClose" id="settingsCloseBtn">‚úï</button>
      </div>

      <div class="settingsForm">
        <label class="settingsLabel">Stad (f√∂r v√§der)</label>
        <input id="settingsCity" class="settingsInput" type="text" placeholder="t.ex. V√§rmd√∂ eller Stockholm">

        <label class="settingsLabel" style="margin-top:10px;">Google Kalender-ID (mail)</label>
        <input id="settingsCalId" class="settingsInput" type="text" placeholder="t.ex. namn@gmail.com">

        <div class="settingsHint" id="settingsHint">Sparas lokalt p√• den h√§r enheten.</div>

        <div class="settingsActions">
          <button class="miniBtn" id="settingsSaveBtn">Spara</button>
          <button class="miniBtn ghost" id="settingsResetBtn">√Öterst√§ll</button>
        </div>
      </div>
    </div>
  </div>

  <script src="app.js?v=700"></script>
</body>
</html>
